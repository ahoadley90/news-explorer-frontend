{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import\"../../styles/Modal.css\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function SignUpModal(_ref){let{isOpen,onClose,onSignUp,openSignIn}=_ref;const[email,setEmail]=useState(\"\");const[password,setPassword]=useState(\"\");const[username,setUsername]=useState(\"\");const[isFormValid,setIsFormValid]=useState(false);const[emailError,setEmailError]=useState(\"\");const[signUpError,setSignUpError]=useState(\"\");useEffect(()=>{setIsFormValid(email.trim()!==\"\"&&password.trim()!==\"\"&&username.trim()!==\"\");},[email,password,username]);const validateEmail=email=>{const re=/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;return re.test(email);};const handleEmailChange=e=>{setEmail(e.target.value);if(!validateEmail(e.target.value)){setEmailError(\"Invalid email address\");}else{setEmailError(\"\");}};const handleSubmit=async e=>{e.preventDefault();if(!validateEmail(email)){setEmailError(\"Invalid email address\");return;}try{await onSignUp(email,password,username);setEmail(\"\");setPassword(\"\");setUsername(\"\");}catch(error){if(error.message.includes(\"email already in use\")){setSignUpError(\"This email is not available\");}else{setSignUpError(error.message);}}};useEffect(()=>{if(isOpen){setEmail(\"\");setPassword(\"\");setUsername(\"\");setEmailError(\"\");setSignUpError(\"\");}},[isOpen]);if(!isOpen)return null;return/*#__PURE__*/_jsx(\"div\",{className:\"modal-overlay\",children:/*#__PURE__*/_jsx(\"div\",{className:\"modal\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal__content\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"modal__close\",onClick:onClose,\"aria-label\":\"Close modal\"}),/*#__PURE__*/_jsx(\"h2\",{className:\"modal__title\",children:\"Sign up\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"modal__form\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"modal__label\",children:[\"Email\",/*#__PURE__*/_jsx(\"input\",{type:\"email\",value:email,onChange:handleEmailChange,className:\"modal__input\",placeholder:\"Enter email\",required:true}),emailError&&/*#__PURE__*/_jsx(\"span\",{className:\"modal__error\",children:emailError})]}),/*#__PURE__*/_jsxs(\"label\",{className:\"modal__label\",children:[\"Password\",/*#__PURE__*/_jsx(\"input\",{type:\"password\",value:password,onChange:e=>setPassword(e.target.value),className:\"modal__input\",placeholder:\"Enter password\",required:true})]}),/*#__PURE__*/_jsxs(\"label\",{className:\"modal__label\",children:[\"Username\",/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:username,onChange:e=>setUsername(e.target.value),className:\"modal__input\",placeholder:\"Enter your username\",required:true})]}),signUpError&&/*#__PURE__*/_jsx(\"span\",{className:\"modal__error\",children:signUpError}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"modal__submit \".concat(!isFormValid?\"modal__submit_disabled\":\"\"),disabled:!isFormValid,children:\"Sign up\"})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"modal__text\",children:[\"or\",\" \",/*#__PURE__*/_jsx(\"button\",{className:\"modal__link\",onClick:openSignIn,children:\"Sign in\"})]})]})})});}export default SignUpModal;","map":{"version":3,"names":["React","useState","useEffect","jsx","_jsx","jsxs","_jsxs","SignUpModal","_ref","isOpen","onClose","onSignUp","openSignIn","email","setEmail","password","setPassword","username","setUsername","isFormValid","setIsFormValid","emailError","setEmailError","signUpError","setSignUpError","trim","validateEmail","re","test","handleEmailChange","e","target","value","handleSubmit","preventDefault","error","message","includes","className","children","onClick","onSubmit","type","onChange","placeholder","required","concat","disabled"],"sources":["/Users/amandahoadley/news-explorer-frontend/src/components/SignUpModal/SignUpModal.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport \"../../styles/Modal.css\";\n\nfunction SignUpModal({ isOpen, onClose, onSignUp, openSignIn }) {\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [username, setUsername] = useState(\"\");\n  const [isFormValid, setIsFormValid] = useState(false);\n  const [emailError, setEmailError] = useState(\"\");\n  const [signUpError, setSignUpError] = useState(\"\");\n\n  useEffect(() => {\n    setIsFormValid(\n      email.trim() !== \"\" && password.trim() !== \"\" && username.trim() !== \"\"\n    );\n  }, [email, password, username]);\n\n  const validateEmail = (email) => {\n    const re = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n    return re.test(email);\n  };\n\n  const handleEmailChange = (e) => {\n    setEmail(e.target.value);\n    if (!validateEmail(e.target.value)) {\n      setEmailError(\"Invalid email address\");\n    } else {\n      setEmailError(\"\");\n    }\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    if (!validateEmail(email)) {\n      setEmailError(\"Invalid email address\");\n      return;\n    }\n    try {\n      await onSignUp(email, password, username);\n      setEmail(\"\");\n      setPassword(\"\");\n      setUsername(\"\");\n    } catch (error) {\n      if (error.message.includes(\"email already in use\")) {\n        setSignUpError(\"This email is not available\");\n      } else {\n        setSignUpError(error.message);\n      }\n    }\n  };\n\n  useEffect(() => {\n    if (isOpen) {\n      setEmail(\"\");\n      setPassword(\"\");\n      setUsername(\"\");\n      setEmailError(\"\");\n      setSignUpError(\"\");\n    }\n  }, [isOpen]);\n\n  if (!isOpen) return null;\n\n  return (\n    <div className=\"modal-overlay\">\n      <div className=\"modal\">\n        <div className=\"modal__content\">\n          <button\n            className=\"modal__close\"\n            onClick={onClose}\n            aria-label=\"Close modal\"\n          />\n          <h2 className=\"modal__title\">Sign up</h2>\n          <form onSubmit={handleSubmit} className=\"modal__form\">\n            <label className=\"modal__label\">\n              Email\n              <input\n                type=\"email\"\n                value={email}\n                onChange={handleEmailChange}\n                className=\"modal__input\"\n                placeholder=\"Enter email\"\n                required\n              />\n              {emailError && <span className=\"modal__error\">{emailError}</span>}\n            </label>\n            <label className=\"modal__label\">\n              Password\n              <input\n                type=\"password\"\n                value={password}\n                onChange={(e) => setPassword(e.target.value)}\n                className=\"modal__input\"\n                placeholder=\"Enter password\"\n                required\n              />\n            </label>\n            <label className=\"modal__label\">\n              Username\n              <input\n                type=\"text\"\n                value={username}\n                onChange={(e) => setUsername(e.target.value)}\n                className=\"modal__input\"\n                placeholder=\"Enter your username\"\n                required\n              />\n            </label>\n            {signUpError && <span className=\"modal__error\">{signUpError}</span>}\n            <button\n              type=\"submit\"\n              className={`modal__submit ${\n                !isFormValid ? \"modal__submit_disabled\" : \"\"\n              }`}\n              disabled={!isFormValid}\n            >\n              Sign up\n            </button>\n          </form>\n          <p className=\"modal__text\">\n            or{\" \"}\n            <button className=\"modal__link\" onClick={openSignIn}>\n              Sign in\n            </button>\n          </p>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default SignUpModal;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}