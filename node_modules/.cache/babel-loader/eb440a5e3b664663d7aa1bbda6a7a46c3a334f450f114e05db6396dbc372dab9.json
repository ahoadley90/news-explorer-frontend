{"ast":null,"code":"import React,{useState}from\"react\";import{Link,useLocation}from\"react-router-dom\";import\"./Header.css\";import SignInModal from\"../SignInModal/SignInModal\";import SignUpModal from\"../SignUpModal/SignUpModal\";import RegistrationSuccessModal from\"../RegistrationSuccessModal/RegistrationSuccessModal\";import logoutIcon from\"../../images/logout.svg\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function Header(_ref){let{isLoggedIn,onSignOut,userName,onSignIn,onSignUp}=_ref;const[activeModal,setActiveModal]=useState(null);const openModal=modalName=>{setActiveModal(modalName);};const closeModal=()=>{setActiveModal(null);};const handleSignIn=async(email,password)=>{try{await onSignIn(email,password);closeModal();}catch(error){console.error(\"Sign in error in Header:\",error);alert(\"Sign in failed: \".concat(error.message||\"Unknown error occurred\"));}};const handleSignUp=async(email,password,username)=>{try{await onSignUp(email,password,username);setActiveModal(\"registrationSuccess\");}catch(error){console.error(\"Sign up error in Header:\",error);throw error;// Propagate the error to be handled in the SignUpModal\n}};const location=useLocation();const isSavedNewsPage=location.pathname===\"/saved-news\";return/*#__PURE__*/_jsxs(\"header\",{className:\"header \".concat(isSavedNewsPage?\"header_saved-news\":\"\"),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"header__content\",children:[/*#__PURE__*/_jsx(Link,{to:\"/\",className:\"header__logo\",children:\"NewsExplorer\"}),/*#__PURE__*/_jsxs(\"nav\",{className:\"header__nav\",children:[/*#__PURE__*/_jsx(Link,{to:\"/\",className:\"header__nav-link \".concat(!isSavedNewsPage?\"header__nav-link_active\":\"\"),children:\"Home\"}),isLoggedIn&&/*#__PURE__*/_jsx(Link,{to:\"/saved-news\",className:\"header__nav-link \".concat(isSavedNewsPage?\"header__nav-link_active\":\"\"),children:\"Saved articles\"}),isLoggedIn?/*#__PURE__*/_jsxs(\"button\",{className:\"header__button\",onClick:onSignOut,children:[userName,/*#__PURE__*/_jsx(\"img\",{src:logoutIcon,alt:\"Logout\",className:\"header__logout-icon\"})]}):/*#__PURE__*/_jsx(\"button\",{className:\"header__button\",onClick:()=>openModal(\"signIn\"),children:\"Sign in\"})]})]}),/*#__PURE__*/_jsx(SignInModal,{isOpen:activeModal===\"signIn\",onClose:closeModal,onSignIn:handleSignIn,openSignUp:()=>openModal(\"signUp\")}),/*#__PURE__*/_jsx(SignUpModal,{isOpen:activeModal===\"signUp\",onClose:closeModal,onSignUp:handleSignUp,openSignIn:()=>openModal(\"signIn\")}),/*#__PURE__*/_jsx(RegistrationSuccessModal,{isOpen:activeModal===\"registrationSuccess\",onClose:closeModal,openSignIn:()=>openModal(\"signIn\")})]});}export default Header;","map":{"version":3,"names":["React","useState","Link","useLocation","SignInModal","SignUpModal","RegistrationSuccessModal","logoutIcon","jsx","_jsx","jsxs","_jsxs","Header","_ref","isLoggedIn","onSignOut","userName","onSignIn","onSignUp","activeModal","setActiveModal","openModal","modalName","closeModal","handleSignIn","email","password","error","console","alert","concat","message","handleSignUp","username","location","isSavedNewsPage","pathname","className","children","to","onClick","src","alt","isOpen","onClose","openSignUp","openSignIn"],"sources":["/Users/amandahoadley/news-explorer-frontend/src/components/Header/Header.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport { Link, useLocation } from \"react-router-dom\";\nimport \"./Header.css\";\nimport SignInModal from \"../SignInModal/SignInModal\";\nimport SignUpModal from \"../SignUpModal/SignUpModal\";\nimport RegistrationSuccessModal from \"../RegistrationSuccessModal/RegistrationSuccessModal\";\nimport logoutIcon from \"../../images/logout.svg\";\n\nfunction Header({ isLoggedIn, onSignOut, userName, onSignIn, onSignUp }) {\n  const [activeModal, setActiveModal] = useState(null);\n\n  const openModal = (modalName) => {\n    setActiveModal(modalName);\n  };\n\n  const closeModal = () => {\n    setActiveModal(null);\n  };\n\n  const handleSignIn = async (email, password) => {\n    try {\n      await onSignIn(email, password);\n      closeModal();\n    } catch (error) {\n      console.error(\"Sign in error in Header:\", error);\n      alert(`Sign in failed: ${error.message || \"Unknown error occurred\"}`);\n    }\n  };\n\n  const handleSignUp = async (email, password, username) => {\n    try {\n      await onSignUp(email, password, username);\n      setActiveModal(\"registrationSuccess\");\n    } catch (error) {\n      console.error(\"Sign up error in Header:\", error);\n      throw error; // Propagate the error to be handled in the SignUpModal\n    }\n  };\n\n  const location = useLocation();\n  const isSavedNewsPage = location.pathname === \"/saved-news\";\n\n  return (\n    <header className={`header ${isSavedNewsPage ? \"header_saved-news\" : \"\"}`}>\n      <div className=\"header__content\">\n        <Link to=\"/\" className=\"header__logo\">\n          NewsExplorer\n        </Link>\n        <nav className=\"header__nav\">\n          <Link\n            to=\"/\"\n            className={`header__nav-link ${\n              !isSavedNewsPage ? \"header__nav-link_active\" : \"\"\n            }`}\n          >\n            Home\n          </Link>\n          {isLoggedIn && (\n            <Link\n              to=\"/saved-news\"\n              className={`header__nav-link ${\n                isSavedNewsPage ? \"header__nav-link_active\" : \"\"\n              }`}\n            >\n              Saved articles\n            </Link>\n          )}\n          {isLoggedIn ? (\n            <button className=\"header__button\" onClick={onSignOut}>\n              {userName}\n              <img\n                src={logoutIcon}\n                alt=\"Logout\"\n                className=\"header__logout-icon\"\n              />\n            </button>\n          ) : (\n            <button\n              className=\"header__button\"\n              onClick={() => openModal(\"signIn\")}\n            >\n              Sign in\n            </button>\n          )}\n        </nav>\n      </div>\n      <SignInModal\n        isOpen={activeModal === \"signIn\"}\n        onClose={closeModal}\n        onSignIn={handleSignIn}\n        openSignUp={() => openModal(\"signUp\")}\n      />\n      <SignUpModal\n        isOpen={activeModal === \"signUp\"}\n        onClose={closeModal}\n        onSignUp={handleSignUp}\n        openSignIn={() => openModal(\"signIn\")}\n      />\n      <RegistrationSuccessModal\n        isOpen={activeModal === \"registrationSuccess\"}\n        onClose={closeModal}\n        openSignIn={() => openModal(\"signIn\")}\n      />\n    </header>\n  );\n}\n\nexport default Header;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}